{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/auth.service\";\nimport * as i2 from \"../services/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction UserComponent_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\");\n  }\n}\n//import { MatSnackBar } from '@angular/material/snack-bar'; // Add this import\nexport let UserComponent = /*#__PURE__*/(() => {\n  class UserComponent {\n    constructor(authService, userService, router) {\n      this.authService = authService;\n      this.userService = userService;\n      this.router = router;\n    }\n    ngOnInit() {\n      this.getUserData();\n    }\n    getUserData() {\n      this.userService.getUserData().subscribe(response => {\n        this.user = response;\n      }, error => {\n        // Handle error, e.g., display an error message\n      });\n    }\n    updateProfile() {\n      this.userService.updateProfile(this.user).subscribe(response => {\n        // Handle successful update, e.g., show a success message\n      }, error => {\n        // Handle error, e.g., display an error message\n      });\n    }\n    deleteAccount() {\n      this.userService.deleteAccount(this.user.id).subscribe(response => {\n        // Handle successful deletion, e.g., navigate to another page\n      }, error => {\n        // Handle error, e.g., display an error message\n      });\n    }\n    // Add other methods to call UserService functions as needed\n    logout() {\n      this.userService.logout().subscribe(response => {\n        // Display a success message\n        console.log('Logout successful'); // Replace this with a proper user-friendly message\n        // Update the AuthService state\n        this.authService.logout();\n        // Navigate to the home page\n        this.router.navigate(['/home']);\n      }, error => {\n        // Handle error, e.g., display an error message\n      });\n    }\n    giftRewards() {}\n  }\n  UserComponent.ɵfac = function UserComponent_Factory(t) {\n    return new (t || UserComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n  UserComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: UserComponent,\n    selectors: [[\"app-user\"]],\n    decls: 34,\n    vars: 5,\n    consts: [[1, \"container\"], [1, \"user-info\"], [\"for\", \"name\"], [\"type\", \"text\", \"id\", \"name\", \"name\", \"name\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [1, \"rewards\"], [1, \"spend-rewards\"], [1, \"reservations\"], [4, \"ngFor\", \"ngForOf\"], [1, \"logout-btn\", 3, \"click\"]],\n    template: function UserComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2, \"User Dashboard\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 1)(4, \"h3\");\n        i0.ɵɵtext(5, \"User Profile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"form\")(7, \"label\", 2);\n        i0.ɵɵtext(8, \"Name:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"input\", 3);\n        i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_input_ngModelChange_9_listener($event) {\n          return ctx.user.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"label\", 4);\n        i0.ɵɵtext(11, \"Email:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"input\", 5);\n        i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.user.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"label\", 6);\n        i0.ɵɵtext(14, \"Password:\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"input\", 7);\n        i0.ɵɵlistener(\"ngModelChange\", function UserComponent_Template_input_ngModelChange_15_listener($event) {\n          return ctx.user.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function UserComponent_Template_button_click_16_listener() {\n          return ctx.updateProfile();\n        });\n        i0.ɵɵtext(17, \"Update Profile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function UserComponent_Template_button_click_18_listener() {\n          return ctx.deleteAccount();\n        });\n        i0.ɵɵtext(19, \"Delete Account\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(20, \"div\", 9)(21, \"h3\");\n        i0.ɵɵtext(22, \"Rewards\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"p\");\n        i0.ɵɵtext(24);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(25, \"div\", 10);\n        i0.ɵɵelementStart(26, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function UserComponent_Template_button_click_26_listener() {\n          return ctx.giftRewards();\n        });\n        i0.ɵɵtext(27, \"Gift Rewards\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(28, \"div\", 11)(29, \"h3\");\n        i0.ɵɵtext(30, \"Reservations\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(31, UserComponent_div_31_Template, 1, 0, \"div\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"button\", 13);\n        i0.ɵɵlistener(\"click\", function UserComponent_Template_button_click_32_listener() {\n          return ctx.logout();\n        });\n        i0.ɵɵtext(33, \"Logout\");\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.email);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.user.password);\n        i0.ɵɵadvance(9);\n        i0.ɵɵtextInterpolate1(\"Available rewards: \", ctx.user.rewards, \"\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngForOf\", ctx.user.reservations);\n      }\n    },\n    dependencies: [i4.NgForOf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.NgModel, i5.NgForm],\n    styles: [\".container[_ngcontent-%COMP%]{width:100%;max-width:800px;margin:0 auto;padding:20px;box-sizing:border-box;font-family:Arial,sans-serif}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.user-info[_ngcontent-%COMP%], .rewards[_ngcontent-%COMP%], .reservations[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:5px;padding:20px;margin-bottom:20px}form[_ngcontent-%COMP%]{display:grid;gap:10px}label[_ngcontent-%COMP%]{display:block;font-weight:700}input[type=text][_ngcontent-%COMP%], input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{width:100%;padding:10px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:5px;cursor:pointer;text-align:center;font-size:16px}button[_ngcontent-%COMP%]:hover{background-color:#45a049}.logout-btn[_ngcontent-%COMP%]{background-color:#f44336;float:right}.logout-btn[_ngcontent-%COMP%]:hover{background-color:#da190b}.spend-rewards[_ngcontent-%COMP%]{display:grid;gap:10px;margin-bottom:10px}.reservations[_ngcontent-%COMP%]{display:grid;gap:10px}.reservation[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:5px;padding:10px}\"]\n  });\n  return UserComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}