<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="user.component.css">
</head>
<body>
    <div class="container">
        <h2>User Dashboard</h2>
        <button (click)="openModal('editAccount')">Edit Account</button>
        <button (click)="openModal('reservations')">View and Edit Reservations</button>
        <button (click)="openModal('rewards')">Rewards Menu</button>
        <button (click)="openModal('sendMessage')">Send Email Message</button>
        <button (click)="openModal('deleteAccount')">Delete Account</button>
        <button (click)="logout()" class="logout-btn">Logout</button>

        <!-- Edit Account Modal -->
        <div class="modal" *ngIf="isModalOpen && activeModal === 'editAccount'">
            <div class="modal-content">
                <h3>Edit Account</h3>
                <form (ngSubmit)="updateAccount()" #editAccountForm="ngForm">
                    <label for="email">Email:</label>
                    <input type="email" id="email" [(ngModel)]="user.email" name="email" required>
                    <label for="phone">Phone Number:</label>
                    <input type="tel" id="phone" [(ngModel)]="user.phone" name="phone" required>
                    <label for="password">Password:</label>
                    <input type="password" id="password" [(ngModel)]="user.password" name="password" required>
                    <button type="submit">Update Account</button>
                </form>
                <span class="modal-close" (click)="closeModal()">&times;</span>
            </div>
        </div>        
        <!-- Reservations Modal -->
        <div class="section reservations">
            <h3>Reservations</h3>
            <div class="reservations-list">
              <div *ngFor="let reservation of user.reservations" class="reservation">
                <p><strong>Room:</strong> {{ reservation.room }}</p>
                <p><strong>Time:</strong> {{ reservation.time | date:'short' }}</p>
                <button (click)="openEditReservationModal(reservation)">Edit Reservation</button>
              </div>
            </div>
        </div>
        <!-- Rewards Modal -->
        <div class="modal" *ngIf="isModalOpen && activeModal === 'rewards'">
            <!-- Add your Rewards form and content here -->
        </div>
        <!-- Send Email Message Modal -->
        <div class="modal" *ngIf="isModalOpen && activeModal === 'sendMessage'">
            <!-- Add your Send Email Message form and content here -->
        </div>
        <!-- Delete Account Modal -->
        <div class="modal" *ngIf="isModalOpen && activeModal === 'deleteAccount'">
            <!-- Add your Delete Account form and content here -->
        </div>
    </div>
</body>
</html>
